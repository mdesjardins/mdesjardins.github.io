<!DOCTYPE html lang="en">
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mike Desjardins</title>
  <meta name="author" content="Mike Desjardins">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mdesjardins.github.io">
  <link href="/favicon.ico" type="image/x-icon" rel="icon">
  <link href="/favicon.ico" type="image/x-icon" rel="shortcut icon">
  <link href="/atom.xml" rel="alternate" title="Mike Desjardins" type="application/atom+xml">

  <link href='https://fonts.googleapis.com/css?family=Oxygen:400,700,300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Fenix' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Alegreya+SC:400,700' rel='stylesheet' type='text/css'>

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <div class="about-me">
        <div class="pull-right">
          <div class="well">
            <br/>
            <a href="http://about.me/mikedesjardins">about me</a>
            <br/>
            <a href="/resume">resume</a>
          </div>
        </div>
      </div>
      <header role="banner">
        <hgroup>
  <div class="title col-centered">
    <h1><a href="/">Mike Desjardins</a></h1>
  </div>
  <div class="subtitle col-centered">    
    <img class="mike" src="/images/mike.png" width="40" height="40" title="Mike" alt="images">
    <img class="of" src="/images/of-the.png" width="15" height="15" title="of" alt="images">
    <img class="garden" src="/images/gardens.png" width="67" height="67" title="The Gardens" alt="images">
  </div>
</hgroup>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-8 col-md-offset-2">
    <div class="blog-index">
      
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/blog/2018/01/25/practicing-what-i-preach/">Practicing What I Preach</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2018-01-25T09:14:00-05:00" pubdate data-updated="true">Jan 25<span>th</span>, 2018</time>
  </header>


  <div class="entry-content clearfix"><p>I&rsquo;ve finally updated the old blog a bit to be more accessible. It&rsquo;s
been on my to-do list for ages. Some of this blog is VERY old. It
started out on the Blogger platform in the early 2000s, moved to
my own hosted WordPress site for the latter 2000s, and has been on
GitHub pages for the last several years using
<a href="http://www.octopress.org">Octopress</a>.</p>

<p>That means the actual content has been through several layers of
import/export processes, and the resulting text is a mess. It
still is a mess, but it&rsquo;s slightly less of one now. When I did
the last import, I noticed that a lot of the content was VERY
dated, from ages past when I was a Java and C++ developer. That
being the case, I wasn&rsquo;t terribly excited to get it all looking
right, and left many things &ldquo;good enough.&rdquo; That meant long broken
images, janky inline styles from old Wordpress plugins, and (of
course) lots of accessibility problems.</p>

<p>I think I&rsquo;ve fixed most of the accessibility issues &ndash; the pages I
checked all passed a quick a11y audit using Google&rsquo;s excellent
<a href="https://chrome.google.com/webstore/detail/accessibility-developer-t/fpkknkljclfencbdbgkenhalefipecmb?hl=en">Accessibility Developer Tools</a>, and I think I checked all of
them. Some of the things I needed to do were:</p>

<ul>
<li>The colors on my links didn&rsquo;t have enough contrast. Google&rsquo;s
audit tool doesn&rsquo;t complain about links not having underlines
(I think it should, it helps people with color blindness and other
visual impairments identify what is a link and what is normal
text), so I added those in the main text.</li>
<li>I used a really old Wordpress tool to generate my code samples,
and they all used inline stlpes for syntax highlighting. Those
inline styles didn&rsquo;t have enough contrast, either. I had to go
through the horribly mangled code samples and replace them with
the equivalent markdown to get them to pass.</li>
<li>It seems the images imported from Wordpress either didn&rsquo;t have
alt tags, or they had alt tags that were blank. Google&rsquo;s audit
tool doesn&rsquo;t identify img elements with blank alt tags, with good
reason &ndash; a blank alt tag is actually the preferred way to indicate
that there is no applicable text representation of an image. But
that&rsquo;s not the case in these instances. I think I still have many
of these I need to clean up, but didn&rsquo;t yet get a chance to hit
them all. :(</li>
<li>Fixed a bunch of busted images.</li>
<li>Added some missing roles, particularly on landmarks.</li>
</ul>


<p>There&rsquo;s still more to do &ndash; there are several instances in my
old Java/Hibernate examples where I present tabular data in
images (UGH!), that I need to convert to actual tables (why
oh why did I think this was a good idea, even ten years ago?
Live and learn). I&rsquo;ve gotta find the blank alt tags. But it&rsquo;s
a start &ndash; I can&rsquo;t decide accessibility is going to be a cause
that I&rsquo;m interested in and not practice it on my own blog.</p>

<p>Everybody resolves to do more blogging all the time, myself
included. Hopefully this gives me a reason to get back
into it!</p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/blog/2017/12/08/my-first-npm-project-react-a11y-select/">My First Npm Project: React-a11y-select</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2017-12-08T08:59:00-05:00" pubdate data-updated="true">Dec 8<span>th</span>, 2017</time>
  </header>


  <div class="entry-content clearfix"><p>I&rsquo;ve had a interest/passion/fascination with web accessibility (a11y) ever since I worked at my previous employer, <a href="https://www.sigient.com">Sigient</a> (note: they might be out of business now, and that site appears to be down). That particular job was a consulting company, and I ended up on the staff augmentation side of the business, which wasn&rsquo;t particularly awesome, but I&rsquo;ll save that story for another time.</p>

<p>I was working with one of the major nationwide internet service providers in the United States. They too are no longer in business, as the corporation was recently acquired. One of the things I undertook was converting some major swaths of their customer portal, an old Backbone web application, to use React. While I working on that task, the company had come under pressure to quickly make their customer portal accessible to users with disabilities. I don&rsquo;t know where this pressure was coming from &ndash; there were rumors of a lawsuit, but this was hearsay and I have no idea if there was any truth to it.</p>

<p>At that point in my career, I had very little exposure to web accessibility. In retrospect, it&rsquo;s shameful that this is the case, but I don&rsquo;t believe it&rsquo;s uncommon. I&rsquo;ve been developing websites for well over 15 years, and I had never encountered a situation where anyone made accessibility a priority. Because of that, I knew almost nothing about roles or aria attributes, <a href="http://colorsafe.co/">high contrast color palettes</a>, or the imporatance of using semantic elements and design to ensure that screen readers would be able to properly interpret pages. I&rsquo;m embarrassed to admit that my first exposure to aria attributes was probably seeing them on <a href="http://getbootstrap.com/">Bootstrap</a> documentation, and thinking to myself &ldquo;what the heck are those things?&rdquo;</p>

<p>Since my experience at Sigient, I&rsquo;ve made a conscious effort to apply accessibility to my designs whenever I&rsquo;ve been afforded the opportunity. Admittedly, my blog needs more contrast and better semantic elements. Ugh, I&rsquo;ll add it to my to-do list!</p>

<p>As I&rsquo;ve transitioned to doing a lot more front-end development, particularly in <a href="https://reactjs.org/">React</a>, it has occurred to me that we have an opportunity to reduce the difficulty in building accessible rich internet applications. Because React (and many other newer Javascript frameworks) are component-based, component creators can focus on making their individual components accessible to disabled users, while application developers can use off-the-shelf components which have been tested and meet minimum accessibility guidelines.</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png" alt="React Logo" /></p>

<p>This obviously requires buy-in from component developers, but I&rsquo;m optimistic that component based UI architecture makes this possible and achievable.</p>

<h2>react-a11y-select</h2>

<p>To that end, I&rsquo;ve started a project on npm to build a web-accessible select component. The first rule of accessibility is to use native components whenever possible. However, over the course of my career I&rsquo;ve seen many designs requiring select/dropdown components with styled options containing graphics and other elements. With this project I&rsquo;m hoping to make doing so in an accessible way super-simple.</p>

<p>I just started this project recently, and it doesn&rsquo;t even meet all the accessibility guidelines yet. It&rsquo;s not as performant as I&rsquo;d like and some of it is pretty hacky. It&rsquo;s missing some key features that I desperately want to add. But it&rsquo;s a start and it&rsquo;s my very first npm project, and first component library. I hope to keep plugging away at it, and eventually introduce a few more components as I get better at this (I&rsquo;m thinking I might do Radio buttons next!).</p>

<p>Here&rsquo;s a link to the project on <a href="https://github.com/mdesjardins/react-a11y-select">Github</a> and on <a href="https://www.npmjs.com/package/react-a11y-select">npm</a>. There&rsquo;s a <a href="http://mikedesjardins.net/react-a11y-select/">live demo page</a> too.</p>

<p>Feel free to submit pull requests. :)</p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/blog/2015/12/04/announcing-remotelyawesomejobs-dot-com/">Announcing RemotelyAwesomeJobs.com</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2015-12-04T16:37:00-05:00" pubdate data-updated="true">Dec 4<span>th</span>, 2015</time>
  </header>


  <div class="entry-content clearfix"><p>Last October I began working on a site that crawls a bunch of different
job boards looking for remote job posts. I wanted to see if I could go
from literally nothing to a fully-functional, useful site in 30 days
on my own free time.</p>

<p>I decided on this particular project for an odd reason: lots of other
people were building nearly identical sites. You might think that&rsquo;d be
discouraging, but I decided that proved it&rsquo;d be pretty trivial to do,
and that there are definitely people out there who would find it useful.
I have no delusions about this site making me rich, so it&rsquo;s no big
deal if there are tons of competitors out there.</p>

<p>In the past I&rsquo;ve used project sites like this to learn new technology.
I hemmed and hawed for a long time about whether I wanted to use this
site as a change to learn Elixir+Phoenix and/or ReactJS. In the end I
decided that the challenge was to build something in 30 days, and my
track record with previous &ldquo;learning&rdquo; projects were that, while I&rsquo;d
learn something, they&rsquo;d almost never get finished. The extra effort
of teaching myself something new made it harder to finish. The goal
for this project was explicitly <em>not</em> to learn something new in terms
of technology, it was to see if I really could see a project through
from start to finish given the fewest impedements. It turns out I can!</p>

<p>RemotelyAwesomeJobs is thus unsurprisingly built on Rails 4.2 with
Postgres and Sidekiq in support. There&rsquo;s minimal Javascript (I
decided that might actually be a virtue in this case &ndash; I want something
that works on any device with little fuss). I did decide to host it
myself on DigitalOcean instead of going the stupid-easy Heroku
route, mostly because it&rsquo;s a lot cheaper to do so once you want
more than one server.</p>

<p>Anyhow, check it out if you&rsquo;re looking for a remote job. I&rsquo;m &ldquo;dog-
fooding&rdquo; it myself right now, so it should be pretty stable and
usable at this point. ;)</p>

<p>Link:  <a href="https://www.remotelyawesomejobs.com">https://www.remotelyawesomejobs.com</a></p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/blog/2015/07/17/conditionally-eager-load-associations-in-rails/">Conditionally Eager-load Associations in Rails</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2015-07-17T17:02:00-04:00" pubdate data-updated="true">Jul 17<span>th</span>, 2015</time>
  </header>


  <div class="entry-content clearfix"><p><em>(This post originally appeared on Burnside Digital&rsquo;s blog on July 12, 2013.
Alas, Burnside Digital&rsquo;s blog is no more, so I&rsquo;ve reposted it here.)</em></p>

<p>We recently had a project for a client where we wanted to eagerly load a
model’s associations, but only under certain conditions – the associated
models were rendered from a page fragment that was cached. It turns out this
is pretty easy to do.</p>

<p>The project that we needed this solution for has a basic CMS. The schema for
the CMS looks something like this:</p>

<center>
  <img src="/images/cms-schema.png" alt="Diagram of CMS Schema"/>
</center>


<p>In other words, our queries were fraught with opportunities for gobs and gobs
of dreaded “N+1 queries.” To avoid the n+1 queries, we could simply eagerly
load by invoking include:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class HomeController &lt; ApplicationController
</span><span class='line'>  def index
</span><span class='line'>    @homepage = HomePage.find(params[:id], :include =&gt; 
</span><span class='line'>      {:page_section =&gt;
</span><span class='line'>      {:page_section_schedule =&gt;
</span><span class='line'>      {:page_fragment =&gt;
</span><span class='line'>      {:carousel_slide =&gt; :image}}}})
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>However, there was caching to consider – this data rarely changes (at most,
daily), so it’s also a great candidate for fragment caching. With a fragment
cache in place, the page looks a bit like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;html&gt;
</span><span class='line'> &lt;head&gt;
</span><span class='line'>  &lt;title&gt;Home Page&lt;/title&gt;
</span><span class='line'> &lt;/head&gt;
</span><span class='line'> &lt;body&gt;
</span><span class='line'>  &lt;h1&gt;Home Page&lt;/h1&gt;
</span><span class='line'>  &lt;div&gt;
</span><span class='line'>    &lt;%- cache( "homepage-fragment-#{@homepage.cache_key}" ) do %&gt;
</span><span class='line'>      &lt;%= render "content", :locals =&gt; { :homepage =&gt; @homepage } %&gt;
</span><span class='line'>    &lt;%- end %&gt;
</span><span class='line'>  &lt;/div&gt;
</span><span class='line'> &lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>


<p>With fragment caching, all that laborious eager loading isn’t necessary &ndash; the
associations aren’t needed because the data is already cached in a fragment.</p>

<p>To get around this, we simply perform the eager loading only when we need it, in
the cached fragment:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;html&gt;
</span><span class='line'> &lt;head&gt;
</span><span class='line'>  &lt;title&gt;Home Page&lt;/title&gt;
</span><span class='line'> &lt;/head&gt;
</span><span class='line'> &lt;body&gt;
</span><span class='line'>  &lt;h1&gt;Home Page&lt;/h1&gt;
</span><span class='line'>  &lt;div&gt;
</span><span class='line'>    &lt;%- cache( "homepage-fragment-#{@homepage.updated_at}" ) do %&gt;
</span><span class='line'>      @homepage.do_eager_loading
</span><span class='line'>      &lt;%= render "content", :locals =&gt; { :homepage =&gt; @homepage } %&gt;
</span><span class='line'>    &lt;%- end %&gt;
</span><span class='line'>  &lt;/div&gt;
</span><span class='line'> &lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>


<p>The do_eager_loading method uses Rails’ internal eager loading methods to get
the work done. It looks like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class HomePage &lt; ActiveRecord::Base
</span><span class='line'>  has_many :page_section_schedules
</span><span class='line'>
</span><span class='line'>  def do_eager_loading
</span><span class='line'>    ActiveRecord::Associations::Preloader.new([self], 
</span><span class='line'>      {:page_sections =&gt; 
</span><span class='line'>      {:page_section_schedules =&gt; 
</span><span class='line'>      {:page_fragment =&gt; 
</span><span class='line'>      {:carousel_slides =&gt; :image} }}}).run
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>And voila – if the content is cached, no eager loading takes place. If the
cache isn’t populated or is invalid, we eager load.</p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/blog/2015/07/17/whats-a-good-rest-api/">What&#8217;s a (Good) REST API?</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2015-07-17T16:40:00-04:00" pubdate data-updated="true">Jul 17<span>th</span>, 2015</time>
  </header>


  <div class="entry-content clearfix"><p><em>(This post originally appeared on Burnside Digital&rsquo;s blog on July 12, 2013.
Alas, Burnside Digital&rsquo;s blog is no more, so I&rsquo;ve reposted it here.)</em></p>

<p>Recently, a colleague who is a front-end developer asked me what the qualities
were for a good REST API. He had been experimenting with
<a href="http://angularjs.org">AngularJS</a> and wanted
to get a rough idea of whether or not he could expect the resource objects
returned by Angular’s $resource factory to work nicely with them.</p>

<p>Strangely, this was a question hard to pin down an answer for. I’ve worked with
RESTful APIs for years and had a good idea what made a good REST API (“I know
one when I see it”), but never really given much thought to it.
<a href="http://web.archive.org/web/20140707035207/http://en.wikipedia.org/wiki/Roy_Fielding">Roy Fielding</a>
first defined REST in his
<a href="http://web.archive.org/web/20140707035207/http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">doctoral dissertation</a>
back in 2000, but that tome was a lot thicker than the quick bullet-points my
colleague was looking for.</p>

<p>RESTfulness is something that happens in degrees. I think I might classify it
thusly:</p>

<h3>Not RESTful, even though the API creators might claim that it’s RESTful These alone don’t make an API RESTful:</h3>

<ul>
<li>Uses HTTP or HTTPS</li>
<li>Returns XML and/or JSON</li>
</ul>


<p>Occasionally you’ll run into some misguided folks who think that the above two
points are all it takes to slap the REST seal-of-approval on their APIs.
Ironically, REST pedants will tell you that specifying the protocol or format
not only is inadequate qualification for RESTfulness, but it actually runs
afoul of the spirit of REST.</p>

<p>Warning signs that a self-proclaimed REST interface that isn’t:</p>

<ul>
<li>Verbs are in your URL (e.g., <a href="http://example.com/reservation/get">http://example.com/reservation/get</a> or <a href="http://example.com/business/search">http://example.com/business/search</a>)</li>
<li>You are using POSTDATA to send query parameters even though you aren’t changing the server’s application state.</li>
</ul>


<h3>Mostly RESTful</h3>

<p>A mostly (and I’d claim adequately) RESTful interface has these qualities:</p>

<ul>
<li>Uses URLs to refer to resources. These resources are the “nouns” in the
system. Examples of a resource might be an account, a transaction, a user,
an appointment, etc.</li>
<li>Uses the four best-known, well-recognized “HTTP Verbs”, and defines them
semantically to mean the following “CRUD” operations:</li>
<li>GET – read a resource or list of resources</li>
<li>POST – create a new resource</li>
<li>PUT – modify an existing resource</li>
<li>DELETE – delete a resource</li>
<li>You might wonder how you actually <em>do</em> something like, e.g., a payment, in a
system designed so noun-centrically like this. It seems actions/verbs have no
place in it. However, even in these cases you are creating a transaction. So
you’d POST/create a payment resource. Everything is expressed in terms of
resource lifecycle events.</li>
<li>Uses semantically appropriate error codes. E.g., 404 means the resource isn’t
found. A 401 means you aren’t authorized to view it. A 422 means something
about the data or request was malformed.</li>
</ul>


<h3>Hardcore RESTful / Hypermedia</h3>

<p>The highest degree of RESTful APIs I’ll refer to as “Hardcore RESTful.” They
have the following qualities:</p>

<ul>
<li>Doesn’t necessarily define a protocol/transport (e.g., HTTP). As I said
above, pedantic REST nerds will tell you that restricting REST to a single
protocol violates the spirit of REST. The reality is that REST almost always
implies HTTP.</li>
<li>Doesn’t define something like a version number in the URL – a version isn’t
semantically a resource or a part of the resource. Instead API versioning can be
done using something like HTTP header values (e.g., Accept:), or some other
side-band portion of the protocol.</li>
<li>Similarly, it shouldn’t define a desired data format in the URL
(e.g., <a href="http://example.com/foo.json">http://example.com/foo.json</a>), and should instead do that via some
side-band part of the protocol like HTTP headers (e.g., content Accept:). You
can embed versioning and desired format in a MIME type that is passed as an
Accept header like this: <em>application/vnd.mycompany.myapp-v1+json</em></li>
<li>To take a RESTful interface up to the next level, you can create an API that
builds upon REST and does not return hierarchical data. Instead it returns URLs
to subsets of data. This style of API is usually referred to as a “Hypermedia
API” for its reliance on hyperlinks. E.g.,</li>
</ul>


<h4>BAD</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;account&gt;
</span><span class='line'>  &lt;name&gt;Checking&lt;/name&gt;
</span><span class='line'>  &lt;balance&gt;100.00&lt;/balance&gt;
</span><span class='line'>  &lt;user&gt;
</span><span class='line'>    &lt;name&gt;Elvis Presley&lt;/name&gt;
</span><span class='line'>    &lt;address&gt;Graceland&lt;/address&gt;
</span><span class='line'>    &lt;city&gt;Memphis&lt;/city&gt;
</span><span class='line'>    &lt;state&gt;TN&lt;/state&gt;
</span><span class='line'>  &lt;/user&gt;
</span><span class='line'>&lt;/account&gt;</span></code></pre></td></tr></table></div></figure>


<h4>GOOD</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;account&gt;
</span><span class='line'>  &lt;name&gt;Checking&lt;/name&gt;
</span><span class='line'>  &lt;balance&gt;100.00&lt;/balance&gt;
</span><span class='line'>  &lt;user href="http://example.com/user/elvis-presley"/&gt;
</span><span class='line'>&lt;/account&gt;</span></code></pre></td></tr></table></div></figure>


<p>The argument for this style of design are that your inner URLs can change at a
later date, and not break the entire API. It also enables “discovery” of the
interface by allowing a client to start at a root node of the API, following
links much like a search-engine spider or bot would. This also engenders systems
to evolve their APIs independently -theoretically, a client with a generic
ability to interpret hypermedia shouldn’t get tripped up by a less rigid
definition of the API. Proponents of Hypermedia APIs often speak of a concept
called
<a href="http://web.archive.org/web/20140707035207/http://en.wikipedia.org/wiki/HATEOAS">“Hypermedia as the Engine of Application State“</a>,
or HATEOAS for short.</p>

<p>Arguments against this style is that, in practice, this manner of API
discoverability is of limited usefulness and actually incurs an overhead by
requiring more API calls than would be otherwise needed.</p>

<h3>In Summary</h3>

<p>What I told my colleague was this: most REST APIs out there meet the “mostly
RESTful” level of compliance. Given that, most REST client abstractions will
probably work OK if the API is at least at that degree of RESTfulness (with the
caveat that I didn’t wade very deeply into Angular’s resource library!). If
you’re creating a brand new REST API, it’s good to aim a little higher than
that &ndash; you’re clients will appreciate it.</p>

<p>If you want to read more about REST and Hypermedia APIs, Steve Klabnik has
written an
<a href="http://web.archive.org/web/20140707035207/http://blog.steveklabnik.com/posts/2011-07-03-nobody-understands-rest-or-http">excellent</a>
<a href="http://web.archive.org/web/20140707035207/http://blog.steveklabnik.com/posts/2011-08-07-some-people-understand-rest-and-http">series</a> of
<a href="http://web.archive.org/web/20140707035207/http://blog.steveklabnik.com/posts/2012-02-23-rest-is-over">blog</a>
<a href="http://web.archive.org/web/20140707035207/http://blog.steveklabnik.com/posts/2012-02-13-an-api-ontology">posts</a><br/>
which expand on these ideas a whole lot more.</p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/blog/2014/03/19/namespace-your-redis-fragment-cache/">Namespace Your Redis Fragment Cache</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-03-19T15:04:00-04:00" pubdate data-updated="true">Mar 19<span>th</span>, 2014</time>
  </header>


  <div class="entry-content clearfix"><p>For a recent work project at <a href="http://www.openbay.com/">Openbay</a>, we decided to use Resque for our
delayed job processing (might move to Sidekiq eventually, but it&rsquo;s not a priority right now). That
meant we had a Redis server already up and running in our environment. When it came time to implement
partial caching, we knew that memcache would probably have the best performance, but we already
had Redis kicking around anyway, so we figured we&rsquo;d try using Redis for it instead.</p>

<p>What we <em>forgot</em> to do was to namespace our partial cache. This meant that all of our partials were
stored in the same root namespace with everything else, including our delayed jobs.</p>

<p>We eventually noticed that queued jobs were never getting kicked off. While diagnosing the problem,
I decided I&rsquo;d try clearing the cache (for unrelated reasons). Imagine my horror:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>irb(main):005:0&gt; Resque.delayed_queue_peek(0,1000)
</span><span class='line'>=&gt; [1393632000, 1393635600, 1393639200, 1393696996, 1393696998, 1393697211, 1393697222, 1393699884, 1393718400, 1393783396, 1393783398, 1393783611, 1393783622, 1393786284, 1393869796, 1393869798, 1393870011, 1393870022, 1393956196, 1393956198, 1393956411, 1393956422, 1393959084, 1394042596, 1394042598, 1394042811, 1394042822, 1394045484, 1394128996, 1394128998, 1394129211, 1394129222, 1394131884, 1394330596, 1394330598, 1394330811, 1394330822, 1394333484, 1394733796, 1394733798, 1394734011, 1394734023, 1394736684, 1395050596, 1395050598, 1395050811, 1395050823, 1395053484]
</span><span class='line'>irb(main):006:0&gt; Rails.cache.clear
</span><span class='line'>=&gt; "OK"
</span><span class='line'>irb(main):007:0&gt; Resque.delayed_queue_peek(0,1000)
</span><span class='line'>=&gt; []
</span><span class='line'>irb(main):008:0&gt;</span></code></pre></td></tr></table></div></figure>


<p><strong>ZOMG.</strong> Rails.cache.clear was wiping out all of our delayed jobs!</p>

<p>The fix was simple enough &ndash; namespace your cache entries in your environment.rb file:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  config.cache_store = :redis_store, ENV['REDIS_URL'], { :namespace =&gt; 'production-cache' }</span></code></pre></td></tr></table></div></figure>


<p>Don&rsquo;t forget to namespace! After that, we were all better:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>=&gt; [1393617439, 1393632000, 1393635600, 1393703632, 1393718400, 1393790032, 1393962832, 1394049232, 1394135632, 1394337232, 1394740432, 1395057232]
</span><span class='line'>irb(main):006:0&gt; Rails.cache.clear
</span><span class='line'>=&gt; 20
</span><span class='line'>irb(main):007:0&gt; Resque.delayed_queue_peek(0,1000)
</span><span class='line'>=&gt; [1393617439, 1393632000, 1393635600, 1393703632, 1393718400, 1393790032, 1393962832, 1394049232, 1394135632, 1394337232, 1394740432, 1395057232]</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/2011/08/23/amazon-ses-ses-verify-email-address-pl-failing-on-osx/">Amazon SES, ses-verify-email-address.pl Failing on OSX</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-08-23T00:00:00-04:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2011</time>
  </header>


  <div class="entry-content clearfix"><p>I spent the better part of last night trying to get Amazon SES working from my Mac. After
reading the README, installing all the dependencies, and doing everything correctly, I
kept getting the following error:</p>

<pre><code>Can't locate object method "ssl_opts" via package "LWP::UserAgent" at SES.pm line 249.
</code></pre>

<p>The only Google hits were for people trying to set up SES with Ubuntu or Debian and weren&rsquo;t
much help. It finally dawned on me what was going on this morning&hellip; when I did a &ldquo;which perl&rdquo;,
I noticed that it was running from my MacPorts directory:</p>

<pre><code>~/Downloads/amazon-ses&gt; which perl
/opt/local/bin/perl
</code></pre>

<p>However, when I looked at the code in the script, the &ldquo;she-bang&rdquo; at the top of the script
was pointing to the perl in /usr/bin, which was installed with the operating system:</p>

<pre><code>#!/usr/bin/perl -w
</code></pre>

<p>So all of my dependency installations were ending up in my MacPorts version of Perl, but
the script was executing using the OSX version of Perl, and nothing worked. Changing the
first line to</p>

<pre><code>#!/opt/local/bin/perl -w
</code></pre>

<p>fixed the problem for me. It probably would make even more sense for me to make /usr/bin/perl
a symbolic link to my MacPorts installation. I hope this can help someone else out there
suffering through the same problem!</p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/2011/06/28/android-development-the-basics/">Android Development : The Basics</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-06-28T00:00:00-04:00" pubdate data-updated="true">Jun 28<span>th</span>, 2011</time>
  </header>


  <div class="entry-content clearfix"><p>I presented &#8220;Android Development: The Basics&#8221; to TechMaine&#8217;s JUG on June 21st. I&#8217;ve posted the slides from the presentation to slideshare.net &#8211; sorry you missed it? Here&#8217;s your chance to almost be there!</p>

<p><a href="http://www.slideshare.net/mdesjardins/android-development-the-basics" title="Android Development: The Basics">Android Development: The Basics</a></p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/2011/03/18/how-i-debugged-a-jruby-stack-overflow/">How I Debugged a JRuby Stack Overflow</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-18T00:00:00-04:00" pubdate data-updated="true">Mar 18<span>th</span>, 2011</time>
  </header>


  <div class="entry-content clearfix"><p>A little over a year ago, I inherited someone else&rsquo;s JRuby on Rails project. My initial role
on the team was the &lsquo;token Java guy,&rsquo; and knew almost zero about Ruby. I&rsquo;ve since grown to love
JRuby, but that&rsquo;s a story for another time.</p>

<p>Over the course of the project, I&rsquo;ve upgraded my JRuby version, upgraded gems, upgraded Java,
and who knows what else. One day, I went to do a migration, and they just plain didn&rsquo;t work
anymore. I discovered that most migration-related stuff didn&rsquo;t work, including tasks like
db:test:load. And by &ldquo;didn&rsquo;t work anymore,&rdquo; I mean this:</p>

<pre><code>Meep:~/_work/sonymusic/src/checkout&gt; rake db:test:load
(in /Users/mdesjardins/_work/sonymusic/src/checkout)
Invalid access of stack red zone 0x100401b20 rip=0x10a6ceb6e
Bus error
</code></pre>

<p>My initial reaction to this is what I expect most people&rsquo;s reaction would be: &ldquo;what in holy hell
is this?&rdquo; It&rsquo;s basically a blown stack &ndash; the stack has &ldquo;edges&rdquo; called red zones to which you should
never write, because it means you&rsquo;re getting too close to going off the end, and the OS is trying
to prevent you from being stupid.</p>

<p>Google was little help &ndash; <a href="http://stackoverflow.com/questions/1501770/invalid-access-of-stack-red-zone-from-java-vm" target="_blank">most people speculated</a> that similar errors were problems w/ OSX&rsquo;s JVM implementation.</p>

<p>So I flailed for a while. I tried backing up to version 1.5 of Apple&rsquo;s JVM (which itself is
<a href="http://hints.macworld.com/article.php?story=20100123192950640" target="_blank">nontrivial</a>,
and was made more complicated by the fact that json-jruby requires Java 6, but I digress). When
that failed, I tried rolling back random gems and versions of JRuby. I tried
<a href="http://stackoverflow.com/questions/2207233/how-to-enable-full-coredumps-on-os-x" target="_blank">enabling core files</a>
and reading stacks in gdb, but that ended up being useless. I tried increasing the stack to a whopping 2 Gig
(normal is 2M) by passing -J-Xss2048M, but it still crashed.</p>

<p>When I passed -J-d32 on JRuby&rsquo;s command line, I got a nice &ldquo;Stack Limit Exceeded&rdquo; error instead of the
nasty crash &ndash; so that was a start. Everything pointed to an infinite recursion problem, but where?</p>

<p>I was getting desperate. As it turns out, before I became a retread Ruby programmer, I worked in Java
enterprise stuff. This is the kind of stuff you do at banks and insurance companies, in hellish beige
cubicles, where you hang posters with diagrams of middleware and service busses and ORMs.</p>

<p>In beige cubicle hell, I learned about a few tools to monitor active JVMs (this comes in handy when
you&rsquo;re monitoring god-awful beasts like &ldquo;enterprise application servers.&rdquo;) I figured it was worth
a shot to try out <strong>jstack. </strong>jstack comes with the JVM. It shows you a stack dump of all the
threads running in a JVM. If you&rsquo;re using it on a local JVM, all you need to do is pass it the PID
of the process you&rsquo;d like to observe w/ the -l (for local?) command line switch.</p>

<p>The trick was going to be catching it just before it blew up. After a few tries, I caught this:</p>

<pre><code>"main" prio=5 tid=102801000 nid=0&amp;#215;100601000 runnable [10047d000]   java.lang.Thread.State: RUNNABLE 
at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:123) 
at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:188) - locked &lt;7fd39d7c8&gt; (a com.mysql.jdbc.util.ReadAheadInputStream) 
at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2329) 
at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2774)
at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2763)
at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3299)
at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)
at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)
at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2537) - locked &lt;7fd3992c0&gt; (a java.lang.Object)
at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2466)
at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1383) - locked &lt;7fd3992c0&gt; (a java.lang.Object)
at com.mysql.jdbc.DatabaseMetaData$9.forEach(DatabaseMetaData.java:4815)
at com.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)
at com.mysql.jdbc.DatabaseMetaData.getTables(DatabaseMetaData.java:4793)
at arjdbc.jdbc.RubyJdbcConnection$16.call(RubyJdbcConnection.java:1015)
at arjdbc.jdbc.RubyJdbcConnection.withConnectionAndRetry(RubyJdbcConnection.java:1191)
at arjdbc.jdbc.RubyJdbcConnection.tables(RubyJdbcConnection.java:576)
at arjdbc.jdbc.RubyJdbcConnection.tables(RubyJdbcConnection.java:552)
at arjdbc.jdbc.RubyJdbcConnection$i$tables.call(RubyJdbcConnection$i$tables.gen:65535)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:103)
at rubyjit.tables_AA8BB5A33C226C4FACC724EF93DE8D1DF04792EB.__file__(/Users/mdesjardins/.rvm/gems/jruby-1.6.0@rails238/gems/activerecord-jdbc-adapter-1.1.1/lib/arjdbc/jdbc/adapter.rb:234)
at rubyjit.tables_AA8BB5A33C226C4FACC724EF93DE8D1DF04792EB.__file__(/Users/mdesjardins/.rvm/gems/jruby-1.6.0@rails238/gems/activerecord-jdbc-adapter-1.1.1/lib/arjdbc/jdbc/adapter.rb)
at org.jruby.ast.executable.AbstractScript.__file__(AbstractScript.java:37)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:127)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:103)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:70)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
at rubyjit.method_missing_with_auto_migration_CA4124448766A2D0B44A8F3F5A4A9EC9908F2D02.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:55)
at rubyjit.method_missing_with_auto_migration_CA4124448766A2D0B44A8F3F5A4A9EC9908F2D02.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.internal.runtime.methods.DefaultMethod.call(DefaultMethod.java:148)
at org.jruby.internal.runtime.methods.AliasMethod.call(AliasMethod.java:101)
at org.jruby.internal.runtime.methods.AliasMethod.call(AliasMethod.java:101)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:71)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
at rubyjit.method_missing_with_auto_migration_CA4124448766A2D0B44A8F3F5A4A9EC9908F2D02.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:55)
at rubyjit.method_missing_with_auto_migration_CA4124448766A2D0B44A8F3F5A4A9EC9908F2D02.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.internal.runtime.methods.DefaultMethod.call(DefaultMethod.java:148)
at org.jruby.internal.runtime.methods.AliasMethod.call(AliasMethod.java:101)
at org.jruby.internal.runtime.methods.AliasMethod.call(AliasMethod.java:101)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:71)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
at rubyjit.method_missing_with_auto_migration_CA4124448766A2D0B44A8F3F5A4A9EC9908F2D02.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:55)
at rubyjit.method_missing_with_auto_migration_CA4124448766A2D0B44A8F3F5A4A9EC9908F2D02.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.internal.runtime.methods.DefaultMethod.call(DefaultMethod.java:148)
at org.jruby.internal.runtime.methods.AliasMethod.call(AliasMethod.java:101)
at org.jruby.internal.runtime.methods.AliasMethod.call(AliasMethod.java:101)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb:71)
at rubyjit.auto_create_table_E1FB7FE0CE1D294ABA67860B81492049B1D6AE7F.__file__(/Users/mdesjardins/_work/sonymusic/src/checkout/vendor/plugins/auto_migrations/lib/auto_migrations.rb)
at org.jruby.internal.runtime.methods.JittedMethod.call(JittedMethod.java:87)
at org.jruby.runtime.callsite.CachingCallSite.callBlock(CachingCallSite.java:78)
at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:84)
</code></pre>

<p>etc. etc. etc. ad infinitum. This was the &ldquo;Aha!&rdquo; moment. It turned out the problem was in
my vendor/auto_migration plugin. What does this plugin do? I honestly have no idea &ndash; from
the README, it looks like it&rsquo;s a tool that applies schema deltas based on schema.rb instead
of using migrations the intended way (hmm&hellip; that seems&hellip; misguided). As I said at the
start of this post, I inherited this project. I wasn&rsquo;t even using this thing anymore.</p>

<p>I deleted the plugin, and <em>voila</em>! My stack trace woes disappeared.</p>

<p><strong>TL;DR: Use jstack if you&rsquo;re stuck w/ a blown stack on JRuby. It works like a champ.</strong></p>
</div>
  
  


        </article>
      
      
        <article class="post" role="article">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        
      </p>
    
    
      <h2 class="entry-title"><a href="/2011/01/23/skicast-pro-now-with-widgets/">Skicast Pro&#8230; Now With Widgets!</a></h2>
    
    












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-01-23T00:00:00-05:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2011</time>
  </header>


  <div class="entry-content clearfix"><p>In a continuing effort to differentiate Skicast from the other ski condition
apps out there in Android-land, I&rsquo;ve released a new version of Skicast Pro
that features some spiffy new homescreen widgets.  These widgets allow you to
view the current conditions at your favorite resorts at-a-glance without opening
Skicast. Tapping the widget opens the main app&rsquo;s favorites screen.</p>

<center>
<img title="Skicast screen shot" src="/assets/uploads/2011/01/Screen-shot-2011-01-22-at-4.17.26-PM.png" alt="" width="192" height="288" />
</center>


<p>Skicast&rsquo;s sales have been, quite frankly, a bit disappointing. The data feed
for the app is kinda pricey, and it doesn&rsquo;t look like I&rsquo;m going to recoup that
expense.  I had assumed that there was a larger potential user base for Skicast
than my other app, Tidecast. That may still be the case, but right now Tidecast
downloads are outpacing Skicast Pro downloads almost 5-to-1.</p>

<p>So, to try to boost its flagging sales, I&rsquo;ve added the widgets. I&rsquo;ve also
introduced House Ads in the Free edition that try to upsell the Pro edition.
My AdMob ads only get about a 40% fill rate, so house ads seemed like an
obvious place to try to plug the upgrade &ndash; this is especially true for getting
the message out about the new features in the Pro version.</p>

<p>We&rsquo;ll see how it goes! I intend to slow down the pace of Android development for a
while to tackle a few other mobile platforms. I&rsquo;ve started ports of both
Skicast and Tidecast to iOS before, but I got distracted by other things and
abandoned them. I think I might revive those projects for a bit &hellip; I&rsquo;m anxious to
see how they perform in the App Store vs. the Android Market.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/blog/page/2/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next disabled"><a href="#">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3" role="complementary">
      
        
      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2020 - Mike Desjardins<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'mikedesjardins';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











  </body>
</html>
